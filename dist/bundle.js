(()=>{"use strict";eval('\n;// CONCATENATED MODULE: ./model/answerDetails.js\nclass AnswerDetails {\n    constructor(answerTime, isAnswered, answer, score) {\n        this.answerTime = answerTime;\n        this.isAnswered = isAnswered;\n        this.answer = answer;\n        this.score = score;\n    }\n}\n;// CONCATENATED MODULE: ./service/questionsFetcher.js\nclass QuestionsFetcher {\n    async fetchQuestions(questionsNum, category, difficulty) {\n        const apiURL = `https://opentdb.com/api.php?amount=${questionsNum}&category=${category}&difficulty=${difficulty}&type=multiple`;\n        return fetch(apiURL)\n            .then(response => response.json()) \n            .then(data=>{\n                return data.results;\n            });\n    }\n}\n;// CONCATENATED MODULE: ./model/question.js\nclass Question {\n    constructor(responseObj) {\n        this.category = responseObj.category;\n        this.type = responseObj.type;\n        this.difficulty = responseObj.difficulty;\n        this.question = responseObj.question;\n        this.correctAnswer = responseObj.correct_answer;\n        this.incorrectAnswers = responseObj.incorrect_answers;\n        this.answerDetails = {};\n    }\n\n    setAnswerDetails(answerDetails) {\n        this.answerDetails = answerDetails;\n    }\n}\n;// CONCATENATED MODULE: ./service/categoriesFetcher.js\nclass CategoriesFetcher {\n    async fetchCategories() {\n        const apiURL = "https://opentdb.com/api_category.php";\n        return fetch(apiURL)\n            .then(response => response.json()) \n            .then(data=>{\n                return data.trivia_categories;\n            });\n    }\n}\n;// CONCATENATED MODULE: ./ui/userInterface.js\n\n\nconst categories = document.getElementById("category");\nconst questionsNum = document.getElementById("quantity");\nconst properties = document.getElementById("properties");\nconst progressBar = document.getElementById("progressBar");\nconst questions = document.getElementById("questions");\nconst questionDiv = document.getElementById("question");\nconst questionForm = document.forms["questionForm"];\n\nclass UserInterface {\n    constructor() {\n        this.categoriesFetcher = new CategoriesFetcher();\n    }\n\n    async populateCategories() {\n        await this.categoriesFetcher.fetchCategories()\n            .then(response => {response.forEach(obj => {\n                let option = document.createElement("option");\n                option.text = obj.name;\n                option.value = obj.id;\n                categories.add(option);\n            });\n        });\n    }\n\n    async populateQuestionNums() {\n        for(let i=5; i<26; i++) {\n            let option = document.createElement("option");\n            option.text = i;\n            option.value = i;\n            questionsNum.add(option);\n        }\n    }\n\n    async prepareQuestionScreen() {\n        properties.classList.add("hide");\n        progressBar.classList.remove("hide");\n        questions.classList.remove("hide");\n    }\n\n    async showQuestion(question, questionNum, currentQuestionNum) {\n        questionDiv.innerHTML = question.question;\n        let allAnswers = this.getAllAnswers(question);\n        questionForm.innerHTML = "";\n        this.createAnswers(allAnswers);\n        this.increseProgressBar(questionNum, currentQuestionNum)\n    }\n\n    increseProgressBar(questionNum, currentQuestionNum) {\n        console.log(questionNum + " " + currentQuestionNum);\n        const progressValue = document.getElementById("progressValue");\n        const calculatedWidth = (currentQuestionNum / questionNum) * 100;\n        const widthValue = calculatedWidth + "%";\n        console.log(widthValue);\n        progressValue.style.width = widthValue;\n    }\n\n    shuffleArray(array) {\n        for (let i = array.length - 1; i > 0; i--) {\n            let j = Math.floor(Math.random() * (i + 1));\n            let temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n    }\n\n    createRadioBox(answer) {\n        let radiobox = document.createElement(\'input\');\n        radiobox.type = \'radio\';\n        radiobox.value = answer;\n        radiobox.name = "answer"\n        return radiobox;\n    }\n\n    createLabel(answer) {\n        let label = document.createElement(\'label\')\n        label.htmlFor = \'answer\';\n        let description = document.createTextNode(answer);\n        label.appendChild(description);\n        return label;\n    }\n\n    createAnswerGroup(radiobox, label) {\n        let answerGroup = document.createElement("div");\n        answerGroup.classList.add("answerGroup");\n        \n        answerGroup.appendChild(radiobox);\n        answerGroup.appendChild(label);\n        return answerGroup;\n    }\n\n    getAllAnswers(question) {\n        let allAnswers = question.incorrectAnswers;\n        allAnswers.push(question.correctAnswer);\n        this.shuffleArray(allAnswers);\n        return allAnswers;\n    }\n\n    createAnswers(allAnswers) {\n        allAnswers.forEach(answer => {\n            let radiobox = this.createRadioBox(answer);\n            let label = this.createLabel(answer);\n            let answerGroup = this.createAnswerGroup(radiobox, label);\n            questionForm.appendChild(answerGroup);\n        });\n    }\n\n    getSelectedRadioValue() {\n        let selectedAnswer;\n        questionForm["answer"].forEach(answer => {\n            if(answer.checked) selectedAnswer = answer.value;\n        });\n        return selectedAnswer;\n    }\n}\n;// CONCATENATED MODULE: ./game/timer.js\nclass Timer {\n    constructor() {\n        this.start = new Date();\n    }\n\n    getMilisecondsFromStart() {\n        let stop = new Date();\n        return stop.getTime() - this.start.getTime();\n    }\n}\n;// CONCATENATED MODULE: ./game/game.js\n\n\n\n\n\n\nconst game_categories = document.getElementById("category");\nconst game_questionsNum = document.getElementById("quantity");\nconst game_properties = document.getElementById("properties");\nconst playButton = document.getElementById("playButton");\nconst game_questions = document.getElementById("questions");\nconst game_progressBar = document.getElementById("progressBar");\nconst timerDiv = document.getElementById("timer");\nconst propertiesForm = document.forms["propertiesForm"];\nconst bonusTime = 5000;\n\nclass Game {\n    constructor() {\n        this.questions = [];\n        this.currentQuestionNum = -1;\n        this.userInterface = new UserInterface();\n        this.questionFetcher = new QuestionsFetcher();\n        this.questionTimer = {};\n    }\n\n    async startGame() {\n        this.userInterface.populateCategories();\n        this.userInterface.populateQuestionNums();\n    }\n        \n    async submitProperties() {\n        const questionsNum = propertiesForm["quantity"].value;\n        const category = propertiesForm["category"].value;\n        const difficulty = propertiesForm["difficulty"].value;\n        await this.saveQuestions(questionsNum, category, difficulty);\n        this.userInterface.prepareQuestionScreen();\n        this.loadNextQuestion();\n    }\n\n    async saveQuestions(questionsNum, category, difficulty) {\n        await this.questionFetcher.fetchQuestions(questionsNum, category, difficulty)\n            .then(response => {\n                response.forEach(obj => {\n                    this.questions.push(new Question(obj));\n            });\n        });\n    }\n\n    loadNextQuestion() {\n        if(this.currentQuestionNum < this.questions.length) {\n            this.currentQuestionNum ++;\n            this.userInterface.showQuestion(this.questions[this.currentQuestionNum], this.questions.length, this.currentQuestionNum);\n            this.startTimer();\n        }\n    }\n\n    startTimer() {\n        this.questionTimer = new Timer();\n        return timer;\n    }\n\n    answer() {\n        const answer = this.userInterface.getSelectedRadioValue();\n        const time = this.questionTimer.getMilisecondsFromStart();\n        const correctAnswer = this.questions[this.currentQuestionNum].correctAnswer;\n        const score = this.calculateScore(answer, correctAnswer, time);\n        const answerDetails = new AnswerDetails(time, true, answer, score);\n        this.questions[this.currentQuestionNum].setAnswerDetails(answerDetails);\n        this.loadNextQuestion();\n    }\n\n    skip() {\n        const score = 0;\n        const time = this.questionTimer.getMilisecondsFromStart();\n        const answerDetails = new AnswerDetails(time, false, "", score);\n        this.questions[this.currentQuestionNum].setAnswerDetails(answerDetails);\n        this.loadNextQuestion();\n    }\n\n    calculateScore(answer, correctAnswer, time) {\n        let score = 0;\n        if(answer === correctAnswer) {\n            score += 1;\n            if(time < bonusTime) score += 0.5;\n        } else score -= 0.25;\n        \n        return score;\n    }\n}\n;// CONCATENATED MODULE: ./quizGame.js\n\n\nconst quizGame_playButton = document.getElementById("playButton");\nconst answerButton = document.getElementById("answerButton");\nconst skipButton = document.getElementById("skipButton");\nconst quizGame_timerDiv = document.getElementById("timer");\n\nvar game = new Game();\ngame.startGame();\n\nquizGame_playButton.addEventListener("click", event => game.submitProperties());\nanswerButton.addEventListener("click", event => game.answer());\nskipButton.addEventListener("click", event => game.skip());\n\nvar questionTimer = setInterval(quizGame_timer, 1000);\nvar sec = 0;\nfunction quizGame_timer() {\n    let minutes = Math.floor(sec/60);\n    quizGame_timerDiv.innerHTML = minutes + ":" + sec%60;\n    sec ++;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL21vZGVsL2Fuc3dlckRldGFpbHMuanM/NjU1NiIsIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL3NlcnZpY2UvcXVlc3Rpb25zRmV0Y2hlci5qcz83NDk1Iiwid2VicGFjazovL3F1aXpnYW1lLy4vbW9kZWwvcXVlc3Rpb24uanM/NmVhYiIsIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL3NlcnZpY2UvY2F0ZWdvcmllc0ZldGNoZXIuanM/NGQ4NiIsIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL3VpL3VzZXJJbnRlcmZhY2UuanM/NjdjYSIsIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL2dhbWUvdGltZXIuanM/OWM4NiIsIndlYnBhY2s6Ly9xdWl6Z2FtZS8uL2dhbWUvZ2FtZS5qcz82ZDg0Iiwid2VicGFjazovL3F1aXpnYW1lLy4vcXVpekdhbWUuanM/MWRjZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUNQZTtBQUNmO0FBQ0EsNkRBQTZELGFBQWEsWUFBWSxTQUFTLGNBQWMsV0FBVztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEM7O0FDVGU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQzs7QUNkZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEM7O0FDVDZEOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZTtBQUNmO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEM7O0FDbkhlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUNUa0Q7QUFDUztBQUNsQjtBQUNPO0FBQ3BCOztBQUU1QixNQUFNLGVBQVU7QUFDaEIsTUFBTSxpQkFBWTtBQUNsQixNQUFNLGVBQVU7QUFDaEI7QUFDQSxNQUFNLGNBQVM7QUFDZixNQUFNLGdCQUFXO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxhQUFhO0FBQzlDLG1DQUFtQyxnQkFBZ0I7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxLQUFLO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYTtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLEM7O0FDeEYrQjs7QUFFL0IsTUFBTSxtQkFBVTtBQUNoQjtBQUNBO0FBQ0EsTUFBTSxpQkFBUTs7QUFFZCxlQUFlLElBQUk7QUFDbkI7O0FBRUEsbUJBQVU7QUFDVjtBQUNBOztBQUVBLGdDQUFnQyxjQUFLO0FBQ3JDO0FBQ0EsU0FBUyxjQUFLO0FBQ2Q7QUFDQSxJQUFJLGlCQUFRO0FBQ1o7QUFDQSIsImZpbGUiOiIxOTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBbnN3ZXJEZXRhaWxzIHtcbiAgICBjb25zdHJ1Y3RvcihhbnN3ZXJUaW1lLCBpc0Fuc3dlcmVkLCBhbnN3ZXIsIHNjb3JlKSB7XG4gICAgICAgIHRoaXMuYW5zd2VyVGltZSA9IGFuc3dlclRpbWU7XG4gICAgICAgIHRoaXMuaXNBbnN3ZXJlZCA9IGlzQW5zd2VyZWQ7XG4gICAgICAgIHRoaXMuYW5zd2VyID0gYW5zd2VyO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXN0aW9uc0ZldGNoZXIge1xuICAgIGFzeW5jIGZldGNoUXVlc3Rpb25zKHF1ZXN0aW9uc051bSwgY2F0ZWdvcnksIGRpZmZpY3VsdHkpIHtcbiAgICAgICAgY29uc3QgYXBpVVJMID0gYGh0dHBzOi8vb3BlbnRkYi5jb20vYXBpLnBocD9hbW91bnQ9JHtxdWVzdGlvbnNOdW19JmNhdGVnb3J5PSR7Y2F0ZWdvcnl9JmRpZmZpY3VsdHk9JHtkaWZmaWN1bHR5fSZ0eXBlPW11bHRpcGxlYDtcbiAgICAgICAgcmV0dXJuIGZldGNoKGFwaVVSTClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkgXG4gICAgICAgICAgICAudGhlbihkYXRhPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBRdWVzdGlvbiB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2VPYmopIHtcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IHJlc3BvbnNlT2JqLmNhdGVnb3J5O1xuICAgICAgICB0aGlzLnR5cGUgPSByZXNwb25zZU9iai50eXBlO1xuICAgICAgICB0aGlzLmRpZmZpY3VsdHkgPSByZXNwb25zZU9iai5kaWZmaWN1bHR5O1xuICAgICAgICB0aGlzLnF1ZXN0aW9uID0gcmVzcG9uc2VPYmoucXVlc3Rpb247XG4gICAgICAgIHRoaXMuY29ycmVjdEFuc3dlciA9IHJlc3BvbnNlT2JqLmNvcnJlY3RfYW5zd2VyO1xuICAgICAgICB0aGlzLmluY29ycmVjdEFuc3dlcnMgPSByZXNwb25zZU9iai5pbmNvcnJlY3RfYW5zd2VycztcbiAgICAgICAgdGhpcy5hbnN3ZXJEZXRhaWxzID0ge307XG4gICAgfVxuXG4gICAgc2V0QW5zd2VyRGV0YWlscyhhbnN3ZXJEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuYW5zd2VyRGV0YWlscyA9IGFuc3dlckRldGFpbHM7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhdGVnb3JpZXNGZXRjaGVyIHtcbiAgICBhc3luYyBmZXRjaENhdGVnb3JpZXMoKSB7XG4gICAgICAgIGNvbnN0IGFwaVVSTCA9IFwiaHR0cHM6Ly9vcGVudGRiLmNvbS9hcGlfY2F0ZWdvcnkucGhwXCI7XG4gICAgICAgIHJldHVybiBmZXRjaChhcGlVUkwpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpIFxuICAgICAgICAgICAgLnRoZW4oZGF0YT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnRyaXZpYV9jYXRlZ29yaWVzO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBDYXRlZ29yaWVzRmV0Y2hlciBmcm9tIFwiLi4vc2VydmljZS9jYXRlZ29yaWVzRmV0Y2hlclwiO1xuXG5jb25zdCBjYXRlZ29yaWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXRlZ29yeVwiKTtcbmNvbnN0IHF1ZXN0aW9uc051bSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVhbnRpdHlcIik7XG5jb25zdCBwcm9wZXJ0aWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9wZXJ0aWVzXCIpO1xuY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzQmFyXCIpO1xuY29uc3QgcXVlc3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvbnNcIik7XG5jb25zdCBxdWVzdGlvbkRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb25cIik7XG5jb25zdCBxdWVzdGlvbkZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInF1ZXN0aW9uRm9ybVwiXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckludGVyZmFjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcmllc0ZldGNoZXIgPSBuZXcgQ2F0ZWdvcmllc0ZldGNoZXIoKTtcbiAgICB9XG5cbiAgICBhc3luYyBwb3B1bGF0ZUNhdGVnb3JpZXMoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2F0ZWdvcmllc0ZldGNoZXIuZmV0Y2hDYXRlZ29yaWVzKClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtyZXNwb25zZS5mb3JFYWNoKG9iaiA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBvYmoubmFtZTtcbiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBvYmouaWQ7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5hZGQob3B0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBwb3B1bGF0ZVF1ZXN0aW9uTnVtcygpIHtcbiAgICAgICAgZm9yKGxldCBpPTU7IGk8MjY7IGkrKykge1xuICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICBvcHRpb24udGV4dCA9IGk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBpO1xuICAgICAgICAgICAgcXVlc3Rpb25zTnVtLmFkZChvcHRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcHJlcGFyZVF1ZXN0aW9uU2NyZWVuKCkge1xuICAgICAgICBwcm9wZXJ0aWVzLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICAgICAgICBwcm9ncmVzc0Jhci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcbiAgICAgICAgcXVlc3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgIH1cblxuICAgIGFzeW5jIHNob3dRdWVzdGlvbihxdWVzdGlvbiwgcXVlc3Rpb25OdW0sIGN1cnJlbnRRdWVzdGlvbk51bSkge1xuICAgICAgICBxdWVzdGlvbkRpdi5pbm5lckhUTUwgPSBxdWVzdGlvbi5xdWVzdGlvbjtcbiAgICAgICAgbGV0IGFsbEFuc3dlcnMgPSB0aGlzLmdldEFsbEFuc3dlcnMocXVlc3Rpb24pO1xuICAgICAgICBxdWVzdGlvbkZvcm0uaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5jcmVhdGVBbnN3ZXJzKGFsbEFuc3dlcnMpO1xuICAgICAgICB0aGlzLmluY3Jlc2VQcm9ncmVzc0JhcihxdWVzdGlvbk51bSwgY3VycmVudFF1ZXN0aW9uTnVtKVxuICAgIH1cblxuICAgIGluY3Jlc2VQcm9ncmVzc0JhcihxdWVzdGlvbk51bSwgY3VycmVudFF1ZXN0aW9uTnVtKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHF1ZXN0aW9uTnVtICsgXCIgXCIgKyBjdXJyZW50UXVlc3Rpb25OdW0pO1xuICAgICAgICBjb25zdCBwcm9ncmVzc1ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzc1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBjYWxjdWxhdGVkV2lkdGggPSAoY3VycmVudFF1ZXN0aW9uTnVtIC8gcXVlc3Rpb25OdW0pICogMTAwO1xuICAgICAgICBjb25zdCB3aWR0aFZhbHVlID0gY2FsY3VsYXRlZFdpZHRoICsgXCIlXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKHdpZHRoVmFsdWUpO1xuICAgICAgICBwcm9ncmVzc1ZhbHVlLnN0eWxlLndpZHRoID0gd2lkdGhWYWx1ZTtcbiAgICB9XG5cbiAgICBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICAgICAgICBsZXQgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcbiAgICAgICAgICAgIGFycmF5W2pdID0gdGVtcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVJhZGlvQm94KGFuc3dlcikge1xuICAgICAgICBsZXQgcmFkaW9ib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICByYWRpb2JveC50eXBlID0gJ3JhZGlvJztcbiAgICAgICAgcmFkaW9ib3gudmFsdWUgPSBhbnN3ZXI7XG4gICAgICAgIHJhZGlvYm94Lm5hbWUgPSBcImFuc3dlclwiXG4gICAgICAgIHJldHVybiByYWRpb2JveDtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbChhbnN3ZXIpIHtcbiAgICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgICAgICBsYWJlbC5odG1sRm9yID0gJ2Fuc3dlcic7XG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFuc3dlcik7XG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuc3dlckdyb3VwKHJhZGlvYm94LCBsYWJlbCkge1xuICAgICAgICBsZXQgYW5zd2VyR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBhbnN3ZXJHcm91cC5jbGFzc0xpc3QuYWRkKFwiYW5zd2VyR3JvdXBcIik7XG4gICAgICAgIFxuICAgICAgICBhbnN3ZXJHcm91cC5hcHBlbmRDaGlsZChyYWRpb2JveCk7XG4gICAgICAgIGFuc3dlckdyb3VwLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgcmV0dXJuIGFuc3dlckdyb3VwO1xuICAgIH1cblxuICAgIGdldEFsbEFuc3dlcnMocXVlc3Rpb24pIHtcbiAgICAgICAgbGV0IGFsbEFuc3dlcnMgPSBxdWVzdGlvbi5pbmNvcnJlY3RBbnN3ZXJzO1xuICAgICAgICBhbGxBbnN3ZXJzLnB1c2gocXVlc3Rpb24uY29ycmVjdEFuc3dlcik7XG4gICAgICAgIHRoaXMuc2h1ZmZsZUFycmF5KGFsbEFuc3dlcnMpO1xuICAgICAgICByZXR1cm4gYWxsQW5zd2VycztcbiAgICB9XG5cbiAgICBjcmVhdGVBbnN3ZXJzKGFsbEFuc3dlcnMpIHtcbiAgICAgICAgYWxsQW5zd2Vycy5mb3JFYWNoKGFuc3dlciA9PiB7XG4gICAgICAgICAgICBsZXQgcmFkaW9ib3ggPSB0aGlzLmNyZWF0ZVJhZGlvQm94KGFuc3dlcik7XG4gICAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGFuc3dlcik7XG4gICAgICAgICAgICBsZXQgYW5zd2VyR3JvdXAgPSB0aGlzLmNyZWF0ZUFuc3dlckdyb3VwKHJhZGlvYm94LCBsYWJlbCk7XG4gICAgICAgICAgICBxdWVzdGlvbkZvcm0uYXBwZW5kQ2hpbGQoYW5zd2VyR3JvdXApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZFJhZGlvVmFsdWUoKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZEFuc3dlcjtcbiAgICAgICAgcXVlc3Rpb25Gb3JtW1wiYW5zd2VyXCJdLmZvckVhY2goYW5zd2VyID0+IHtcbiAgICAgICAgICAgIGlmKGFuc3dlci5jaGVja2VkKSBzZWxlY3RlZEFuc3dlciA9IGFuc3dlci52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZEFuc3dlcjtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gbmV3IERhdGUoKTtcbiAgICB9XG5cbiAgICBnZXRNaWxpc2Vjb25kc0Zyb21TdGFydCgpIHtcbiAgICAgICAgbGV0IHN0b3AgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gc3RvcC5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0LmdldFRpbWUoKTtcbiAgICB9XG59IiwiaW1wb3J0IEFuc3dlckRldGFpbHMgZnJvbSBcIi4uL21vZGVsL2Fuc3dlckRldGFpbHNcIlxuaW1wb3J0IFF1ZXN0aW9uc0ZldGNoZXIgZnJvbSBcIi4uL3NlcnZpY2UvcXVlc3Rpb25zRmV0Y2hlclwiO1xuaW1wb3J0IFF1ZXN0aW9uIGZyb20gXCIuLi9tb2RlbC9xdWVzdGlvblwiO1xuaW1wb3J0IFVzZXJJbnRlcmZhY2UgZnJvbSBcIi4uL3VpL3VzZXJJbnRlcmZhY2VcIjtcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiO1xuXG5jb25zdCBjYXRlZ29yaWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXRlZ29yeVwiKTtcbmNvbnN0IHF1ZXN0aW9uc051bSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVhbnRpdHlcIik7XG5jb25zdCBwcm9wZXJ0aWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9wZXJ0aWVzXCIpO1xuY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUJ1dHRvblwiKTtcbmNvbnN0IHF1ZXN0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb25zXCIpO1xuY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzQmFyXCIpO1xuY29uc3QgdGltZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVyXCIpO1xuY29uc3QgcHJvcGVydGllc0Zvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb3BlcnRpZXNGb3JtXCJdO1xuY29uc3QgYm9udXNUaW1lID0gNTAwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25zID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudFF1ZXN0aW9uTnVtID0gLTE7XG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZSA9IG5ldyBVc2VySW50ZXJmYWNlKCk7XG4gICAgICAgIHRoaXMucXVlc3Rpb25GZXRjaGVyID0gbmV3IFF1ZXN0aW9uc0ZldGNoZXIoKTtcbiAgICAgICAgdGhpcy5xdWVzdGlvblRpbWVyID0ge307XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnRHYW1lKCkge1xuICAgICAgICB0aGlzLnVzZXJJbnRlcmZhY2UucG9wdWxhdGVDYXRlZ29yaWVzKCk7XG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZS5wb3B1bGF0ZVF1ZXN0aW9uTnVtcygpO1xuICAgIH1cbiAgICAgICAgXG4gICAgYXN5bmMgc3VibWl0UHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25zTnVtID0gcHJvcGVydGllc0Zvcm1bXCJxdWFudGl0eVwiXS52YWx1ZTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBwcm9wZXJ0aWVzRm9ybVtcImNhdGVnb3J5XCJdLnZhbHVlO1xuICAgICAgICBjb25zdCBkaWZmaWN1bHR5ID0gcHJvcGVydGllc0Zvcm1bXCJkaWZmaWN1bHR5XCJdLnZhbHVlO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVRdWVzdGlvbnMocXVlc3Rpb25zTnVtLCBjYXRlZ29yeSwgZGlmZmljdWx0eSk7XG4gICAgICAgIHRoaXMudXNlckludGVyZmFjZS5wcmVwYXJlUXVlc3Rpb25TY3JlZW4oKTtcbiAgICAgICAgdGhpcy5sb2FkTmV4dFF1ZXN0aW9uKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVF1ZXN0aW9ucyhxdWVzdGlvbnNOdW0sIGNhdGVnb3J5LCBkaWZmaWN1bHR5KSB7XG4gICAgICAgIGF3YWl0IHRoaXMucXVlc3Rpb25GZXRjaGVyLmZldGNoUXVlc3Rpb25zKHF1ZXN0aW9uc051bSwgY2F0ZWdvcnksIGRpZmZpY3VsdHkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChvYmogPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9ucy5wdXNoKG5ldyBRdWVzdGlvbihvYmopKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkTmV4dFF1ZXN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmN1cnJlbnRRdWVzdGlvbk51bSA8IHRoaXMucXVlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UXVlc3Rpb25OdW0gKys7XG4gICAgICAgICAgICB0aGlzLnVzZXJJbnRlcmZhY2Uuc2hvd1F1ZXN0aW9uKHRoaXMucXVlc3Rpb25zW3RoaXMuY3VycmVudFF1ZXN0aW9uTnVtXSwgdGhpcy5xdWVzdGlvbnMubGVuZ3RoLCB0aGlzLmN1cnJlbnRRdWVzdGlvbk51bSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0VGltZXIoKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25UaW1lciA9IG5ldyBUaW1lcigpO1xuICAgICAgICByZXR1cm4gdGltZXI7XG4gICAgfVxuXG4gICAgYW5zd2VyKCkge1xuICAgICAgICBjb25zdCBhbnN3ZXIgPSB0aGlzLnVzZXJJbnRlcmZhY2UuZ2V0U2VsZWN0ZWRSYWRpb1ZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRpbWUgPSB0aGlzLnF1ZXN0aW9uVGltZXIuZ2V0TWlsaXNlY29uZHNGcm9tU3RhcnQoKTtcbiAgICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHRoaXMucXVlc3Rpb25zW3RoaXMuY3VycmVudFF1ZXN0aW9uTnVtXS5jb3JyZWN0QW5zd2VyO1xuICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuY2FsY3VsYXRlU2NvcmUoYW5zd2VyLCBjb3JyZWN0QW5zd2VyLCB0aW1lKTtcbiAgICAgICAgY29uc3QgYW5zd2VyRGV0YWlscyA9IG5ldyBBbnN3ZXJEZXRhaWxzKHRpbWUsIHRydWUsIGFuc3dlciwgc2NvcmUpO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1t0aGlzLmN1cnJlbnRRdWVzdGlvbk51bV0uc2V0QW5zd2VyRGV0YWlscyhhbnN3ZXJEZXRhaWxzKTtcbiAgICAgICAgdGhpcy5sb2FkTmV4dFF1ZXN0aW9uKCk7XG4gICAgfVxuXG4gICAgc2tpcCgpIHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSAwO1xuICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5xdWVzdGlvblRpbWVyLmdldE1pbGlzZWNvbmRzRnJvbVN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IGFuc3dlckRldGFpbHMgPSBuZXcgQW5zd2VyRGV0YWlscyh0aW1lLCBmYWxzZSwgXCJcIiwgc2NvcmUpO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1t0aGlzLmN1cnJlbnRRdWVzdGlvbk51bV0uc2V0QW5zd2VyRGV0YWlscyhhbnN3ZXJEZXRhaWxzKTtcbiAgICAgICAgdGhpcy5sb2FkTmV4dFF1ZXN0aW9uKCk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlU2NvcmUoYW5zd2VyLCBjb3JyZWN0QW5zd2VyLCB0aW1lKSB7XG4gICAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICAgIGlmKGFuc3dlciA9PT0gY29ycmVjdEFuc3dlcikge1xuICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgIGlmKHRpbWUgPCBib251c1RpbWUpIHNjb3JlICs9IDAuNTtcbiAgICAgICAgfSBlbHNlIHNjb3JlIC09IDAuMjU7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgfVxufSIsImltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWUvZ2FtZVwiO1xuXG5jb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5QnV0dG9uXCIpO1xuY29uc3QgYW5zd2VyQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbnN3ZXJCdXR0b25cIik7XG5jb25zdCBza2lwQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJza2lwQnV0dG9uXCIpO1xuY29uc3QgdGltZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWVyXCIpO1xuXG52YXIgZ2FtZSA9IG5ldyBHYW1lKCk7XG5nYW1lLnN0YXJ0R2FtZSgpO1xuXG5wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiBnYW1lLnN1Ym1pdFByb3BlcnRpZXMoKSk7XG5hbnN3ZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IGdhbWUuYW5zd2VyKCkpO1xuc2tpcEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4gZ2FtZS5za2lwKCkpO1xuXG52YXIgcXVlc3Rpb25UaW1lciA9IHNldEludGVydmFsKHRpbWVyLCAxMDAwKTtcbnZhciBzZWMgPSAwO1xuZnVuY3Rpb24gdGltZXIoKSB7XG4gICAgbGV0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlYy82MCk7XG4gICAgdGltZXJEaXYuaW5uZXJIVE1MID0gbWludXRlcyArIFwiOlwiICsgc2VjJTYwO1xuICAgIHNlYyArKztcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///199\n')})();